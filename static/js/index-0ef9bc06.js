var vt=Object.defineProperty,mt=Object.defineProperties;var Ct=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable;var je=(e,s,n)=>s in e?vt(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,H=(e,s)=>{for(var n in s||(s={}))yt.call(s,n)&&je(e,n,s[n]);if(qe)for(var n of qe(s))St.call(s,n)&&je(e,n,s[n]);return e},ve=(e,s)=>mt(e,Ct(s));var de=(e,s,n)=>new Promise((h,o)=>{var g=p=>{try{u(n.next(p))}catch(l){o(l)}},d=p=>{try{u(n.throw(p))}catch(l){o(l)}},u=p=>p.done?h(p.value):Promise.resolve(p.value).then(g,d);u((n=n.apply(e,s)).next())});import{m as Ge,a3 as nt,cU as xt,aM as Ye,cV as z,bb as Le,bh as He,ac as Tt,d as j,bg as ge,Q as fe,a2 as M,o as b,c as P,r as Ke,F as re,q as ue,aw as ne,av as q,u as t,a7 as De,n as $,h as te,aE as at,E as N,w as T,G as _e,ay as Xe,aC as ke,aD as Ne,az as rt,ab as Q,a1 as ct,l as ze,ad as Ze,L as ae,ax as lt,a as D,cW as wt,a0 as ye,j as X,cX as Je,x as $e,y as Me,b as w,g as bt,e as he,t as ee,aZ as Et,cH as B,cI as K,a_ as pe,cG as Lt,U as we,V as be,ba as kt,cY as It,aL as Dt,cZ as $t,ae as Mt,c_ as Rt,C as Ut,ah as Qe,bl as Ot,N as Ht,c$ as At,aN as Pt,O as Yt,ak as Xt,al as Te,aK as Ae,d0 as Nt,bx as Bt}from"./index-f1b62783.js";import{u as Fe,d as Gt}from"./index-e4e28c6a.js";import{u as oe,f as V,h as I,i as Ee,a as Kt}from"./chartEditStore-486ae2f4.js";import{e as zt,S as Ft}from"./index-22e48ee0.js";import{a as Wt}from"./useKeyboard.hook-25a8f9a0.js";import{u as it}from"./useSync.hook-f803091a.js";import{a as Vt,b as et,l as qt,g as jt}from"./plugin-a824adf1.js";import{C as Zt}from"./index-3d93016c.js";import"./querySelectorAll-a1c431d2.js";import{l as tt}from"./listen-92ff7612.js";import{u as ut,C as dt}from"./chartLayoutStore-ce407c49.js";import{i as le}from"./icon-14375a60.js";import{G as Jt}from"./index.vue_vue_type_script_setup_true_lang-83e8294c.js";import{F as ot}from"./fileTypeEnum-21359a08.js";import{u as Qt}from"./useSyncUpdate.hook-9977faaa.js";import"./index-08a0b855.js";import"./SettingItem-d0566dd6.js";/* empty css                                                                      */import"./SettingItemBox-6b455d4c.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-3590d83e.js";import"./index.esm.min-98f3d51a.js";import"./project.api-a6799795.js";const me=oe(),eo=e=>{let s=()=>{};Ge(()=>de(void 0,null,function*(){me.setEditCanvas(V.EDIT_LAYOUT_DOM,document.getElementById("go-chart-edit-layout")),me.setEditCanvas(V.EDIT_CONTENT_DOM,document.getElementById("go-chart-edit-content")),yield e(),s=me.listenerScale()})),nt(()=>{me.setEditCanvas(V.EDIT_LAYOUT_DOM,null),me.setEditCanvas(V.EDIT_CONTENT_DOM,null),s()})},y=oe(),{onClickOutSide:to}=Fe(),oo=e=>de(void 0,null,function*(){e.preventDefault();try{Vt();const s=e.dataTransfer.getData(xt.DRAG_KEY);if(!s){et();return}y.setEditCanvas(V.IS_CREATE,!1);const n=Ye(s);if(n.disabled)return;let h=yield zt(n);n.redirectComponent&&(n.dataset&&(h.option.dataset=n.dataset),h.chartConfig.title=n.title,h.chartConfig.chartFrame=n.chartFrame),z(h,e.offsetX-h.attr.w/2,e.offsetY-h.attr.h/2),y.addComponentList(h,!1,!0),y.setTargetSelectChart(h.id),et()}catch(s){qt(),window.$message.warning("å›¾è¡¨æ­£åœ¨ç ”å‘ä¸­, æ•¬è¯·æœŸå¾…...")}}),st=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")},pt=(e,s)=>{if(s){y.setTargetSelectChart(s.id);return}y.setTargetSelectChart(void 0)},so=(e,s)=>{var l;if(e.which==2||(l=window.$KeyboardActive)!=null&&l.space)return;pt();const n=e.offsetX,h=e.offsetY,o=e.screenX,g=e.screenY,d=y.getEditCanvas.scale;y.setMousePosition(void 0,void 0,n,h);const u=Le.throttle(_=>{y.setTargetSelectChart(),y.setEditCanvas(V.IS_SELECT,!0);const r=n+_.screenX-o,a=h+_.screenY-g;y.setMousePosition(r,a);const f={x1:0,y1:0,x2:0,y2:0};r>n&&a>h?(f.x1=n,f.y1=h,f.x2=Math.round(n+(_.screenX-o)/d),f.y2=Math.round(h+(_.screenY-g)/d)):r>n&&a<h?(f.x1=n,f.y1=Math.round(h-(g-_.screenY)/d),f.x2=Math.round(n+(_.screenX-o)/d),f.y2=h):r<n&&a>h?(f.x1=Math.round(n-(o-_.screenX)/d),f.y1=h,f.x2=n,f.y2=Math.round(h+(_.screenY-g)/d)):(f.x1=Math.round(n-(o-_.screenX)/d),f.y1=Math.round(h-(g-_.screenY)/d),f.x2=n,f.y2=h),y.getComponentList.forEach(c=>{if(!y.getTargetChart.selectId.includes(c.id)){const{x:i,y:m,w:S,h:x}=c.attr,E={x1:i,y1:m,x2:i+S,y2:m+x};E.x1-f.x1>=0&&E.y1-f.y1>=0&&E.x2-f.x2<=0&&E.y2-f.y2<=0&&!c.status.lock&&!c.status.hide&&y.setTargetSelectChart(c.id,!0)}})},30),p=()=>{u.cancel(),y.setEditCanvas(V.IS_SELECT,!1),y.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",p)},_t=()=>({mouseClickHandle:(o,g)=>{var d;if(o.preventDefault(),o.stopPropagation(),!g.status.lock&&(d=window.$KeyboardActive)!=null&&d.ctrl)if(y.targetChart.selectId.includes(g.id)){const u=y.targetChart.selectId.filter(p=>p!==g.id);y.setTargetSelectChart(u)}else y.setTargetSelectChart(g.id,!0)},mousedownHandle:(o,g)=>{var m;if(o.preventDefault(),o.stopPropagation(),g.status.lock||(to(),o.buttons===He.LEFT&&((m=window.$KeyboardActive)!=null&&m.ctrl)))return;const d=y.getTargetChart.selectId;if(o.buttons===He.RIGHT&&d.length>1&&d.includes(g.id)||(y.setTargetSelectChart(g.id),o.buttons===He.RIGHT))return;const u=y.getEditCanvas.scale,p=y.getEditCanvasConfig.width,l=y.getEditCanvasConfig.height,_=new Map;y.getTargetChart.selectId.forEach(S=>{const x=y.fetchTargetIndex(S);if(x!==-1){const{x:E,y:k,w:O,h:G}=Tt(y.getComponentList[x]).attr;_.set(S,{x:E,y:k,w:O,h:G})}});const r=o.screenX,a=o.screenY;let f=[];y.getTargetChart.selectId.forEach(S=>{if(!_.has(S))return;const x=y.fetchTargetIndex(S);f.push(Le.cloneDeep(y.getComponentList[x]))}),y.setMousePosition(void 0,void 0,r,a);const c=Le.throttle(S=>{y.setEditCanvas(V.IS_DRAG,!0),y.setMousePosition(S.screenX,S.screenY);let x=(S.screenX-r)/u,E=(S.screenY-a)/u;y.getTargetChart.selectId.forEach(k=>{if(!_.has(k))return;const O=y.fetchTargetIndex(k),{x:G,y:se,w:Y,h:v}=_.get(k),R=y.getComponentList[O];let A=Math.round(G+x),C=Math.round(se+E);const L=50;A=A<-Y+L?-Y+L:A,C=C<-v+L?-v+L:C,A=A>p-L?p-L:A,C=C>l-L?l-L:C,R&&(R.attr=Object.assign(R.attr,{x:A,y:C}))})},20),i=()=>{try{if(y.setMousePosition(0,0,0,0),y.setEditCanvas(V.IS_DRAG,!1),f.length){y.getTargetChart.selectId.forEach(x=>{if(!_.has(x))return;const E=y.fetchTargetIndex(x),k=y.getComponentList[E];f.forEach(O=>{O.id===x&&(O.attr=Object.assign(O.attr,{offsetX:k.attr.x-O.attr.x,offsetY:k.attr.y-O.attr.y}))})});const S=f.filter(x=>x.attr.offsetX!==0&&x.attr.offsetY!==0);S.length&&y.moveComponentList(S)}document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",i)}catch(S){console.log(S)}};document.addEventListener("mousemove",c),document.addEventListener("mouseup",i)},mouseenterHandle:(o,g)=>{o.preventDefault(),o.stopPropagation(),y.getEditCanvas.isSelect||y.setTargetHoverChart(g.id)},mouseleaveHandle:(o,g)=>{o.preventDefault(),o.stopPropagation(),y.setEditCanvas(V.IS_DRAG,!1),y.setTargetHoverChart(void 0)}}),no=(e,s,n)=>{e.stopPropagation(),e.preventDefault(),y.setEditCanvas(V.IS_DRAG,!0);const h=y.getEditCanvas.scale,o=n.x,g=n.y,d=n.w,u=n.h,p=e.screenX,l=e.screenY;y.setMousePosition(p,l);const _=Le.throttle(a=>{y.setMousePosition(a.screenX,a.screenY);let f=Math.round((a.screenX-p)/h),c=Math.round((a.screenY-l)/h);const i=/t/.test(s),m=/b/.test(s),S=/l/.test(s),x=/r/.test(s),E=u+(i?-c:m?c:0),k=d+(S?-f:x?f:0);n.h=E>0?E:0,n.w=k>0?k:0,n.x=o+(S?f:0),n.y=g+(i?c:0)},50),r=()=>{y.setEditCanvas(V.IS_DRAG,!1),y.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",_),document.addEventListener("mouseup",r)},Ie=(e,s)=>e?{zIndex:s+1,left:`${e.x}px`,top:`${e.y}px`}:{},ie=(e,s)=>e?{width:`${s?s*e.w:e.w}px`,height:`${s?s*e.h:e.h}px`}:{},ao=(e,s,n,h)=>{const{w:o,h:g}=n,d=/t/.test(e),u=/b/.test(e),p=/l/.test(e),l=/r/.test(e);let _=0,r=0;return e.length===2?(_=p?0:o,r=d?0:g):((d||u)&&(_=o/2,r=d?0:g),(p||l)&&(_=p?0:o,r=Math.floor(g/2))),{left:`${_}px`,top:`${r}px`,cursor:h[s]+"-resize"}},ro=["onMousedown"],co=j({__name:"index",props:{item:{type:Object,required:!0},hiddenPoint:{type:Boolean,required:!1}},setup(e){const s=e;ge(r=>({ab01a3ce:t(d)}));const n=fe(),h=oe(),o=["t","r","b","l","lt","rt","lb","rb"],g=["n","e","s","w","nw","ne","sw","se"],d=M(()=>n.getAppTheme),u=M(()=>h.getEditCanvas[V.IS_DRAG]||s.item.status.lock?!1:s.item.id===h.getTargetChart.hoverId),p=M(()=>{const r=s.item.id;return s.item.status.lock?!1:h.getTargetChart.selectId.find(a=>a===r)}),l=M(()=>s.item.status.lock),_=M(()=>s.item.status.hide);return(r,a)=>(b(),P("div",{class:ne(["go-shape-box",{lock:t(l),hide:t(_)}])},[Ke(r.$slots,"default",{},void 0,!0),e.hiddenPoint?De("",!0):(b(!0),P(re,{key:0},ue(t(p)?o:[],(f,c)=>(b(),P("div",{class:ne(`shape-point ${f}`),key:c,style:q(t(ao)(f,c,e.item.attr,g)),onMousedown:i=>t(no)(i,f,e.item.attr)},null,46,ro))),128)),$("div",{class:"shape-modal",style:q(t(ie)(e.item.attr))},[$("div",{class:ne(["shape-modal-select",{active:t(p)}])},null,2),$("div",{class:ne(["shape-modal-change",{selectActive:t(p),hoverActive:t(u)}])},null,2)],4)],2))}});const Be=te(co,[["__scopeId","data-v-e6e74e0e"]]),lo={class:"go-edit-group-box"},io=j({__name:"index",props:{groupData:{type:Object,required:!0},groupIndex:{type:Number,required:!0}},setup(e){const s=oe(),{handleContextMenu:n}=Fe(),{mouseenterHandle:h,mouseleaveHandle:o,mousedownHandle:g,mouseClickHandle:d}=_t(),u=(_,r,a)=>{const f=c=>r.filter(i=>c.includes(i.key));if(s.getTargetChart.selectId.length>1)return f([Q.GROUP,Q.DELETE]);{const c=[];a.status.lock?c.push(Q.LOCK):c.push(Q.UNLOCK),a.status.hide?c.push(Q.HIDE):c.push(Q.SHOW);const i=[Q.UN_GROUP];return[...f(i),Gt(),..._.filter(m=>!c.includes(m.key))]}},p=M(()=>at(s.getEditCanvasConfig.chartCustomThemeColorInfo)[s.getEditCanvasConfig.chartThemeColor]),l=M(()=>s.getEditCanvasConfig.chartThemeSetting);return(_,r)=>(b(),P("div",lo,[(b(),N(t(Be),{key:e.groupData.id,"data-id":e.groupData.id,index:e.groupIndex,item:e.groupData,hiddenPoint:!0,class:ne(t(Xe)(e.groupData.styles.animations)),style:q(H(H(H(H(H({},t(Ie)(e.groupData.attr,e.groupIndex)),t(ie)(e.groupData.attr)),t(ke)(e.groupData.styles)),t(Ne)(e.groupData.styles)),t(rt)(e.groupData.styles))),onClick:r[0]||(r[0]=a=>t(d)(a,e.groupData)),onMousedown:r[1]||(r[1]=a=>t(g)(a,e.groupData)),onMouseenter:r[2]||(r[2]=a=>t(h)(a,e.groupData)),onMouseleave:r[3]||(r[3]=a=>t(o)(a,e.groupData)),onContextmenu:r[4]||(r[4]=a=>t(n)(a,e.groupData,u))},{default:T(()=>[(b(!0),P(re,null,ue(e.groupData.groupList,a=>(b(),N(t(Be),{key:a.id,"data-id":a.id,index:e.groupIndex,item:a,hiddenPoint:!0,style:q(H({},t(Ie)(a.attr,e.groupIndex)))},{default:T(()=>[(b(),N(_e(a.chartConfig.chartKey),{class:ne(["edit-content-chart",t(Xe)(a.styles.animations)]),chartConfig:a,themeSetting:t(l),themeColor:t(p),style:q(H(H(H({},t(ie)(a.attr)),t(ke)(a.styles)),t(Ne)(a.styles)))},null,8,["class","chartConfig","themeSetting","themeColor","style"]))]),_:2},1032,["data-id","index","item","style"]))),128))]),_:1},8,["data-id","index","item","class","style"]))]))}}),uo={class:"go-edit-align-line"},po=j({__name:"index",setup(e){ge(c=>({"2a25621e":t(d)}));const s=fe(),n=oe(),h=ct(),o=ze({lineArr:["rowt","rowc","rowb","coll","colc","colr"],select:new Map,sorptioned:{x:!1,y:!1}}),g=c=>c?{left:`${c.x?c.x:0}px`,top:`${c.y?c.y:0}px`}:{},d=M(()=>s.getAppTheme),u=M(()=>h.getChartAlignRange),p=M(()=>n.getEditCanvas[V.IS_DRAG]),l=(c,i)=>Math.abs(c-i)<=u.value,_=M(()=>n.getTargetChart.selectId),r=M(()=>n.getComponentList[n.fetchTargetIndex()]),a=M(()=>{var c;return((c=r.value)==null?void 0:c.attr)||{}}),f=M(()=>({id:"0",attr:{w:Ze(n.getEditCanvasConfig.width),h:Ze(n.getEditCanvasConfig.height),x:0,y:0,offsetX:0,offsetY:0,zIndex:0}}));return ae(()=>n.getMousePosition,lt(()=>{try{if(!p.value||_.value.length!==1)return;const c=a.value.w,i=a.value.h,m=a.value.x,S=m+c/2,x=m+c,E=[m,S,x],k=a.value.y,O=k+i/2,G=k+i,se=[k,O,G];o.select.clear(),o.sorptioned.y=!1;const Y=n.getComponentList.map(v=>({id:v.id,attr:v.attr}));Y.push(f.value),o.lineArr.forEach(v=>{Y.forEach(R=>{if(_.value[0]===R.id)return;const A=R.attr.w,C=R.attr.h,L=R.attr.x,F=L+A/2,U=L+A,Re=[L,F,U],W=R.attr.y,Z=W+C/2,J=W+C,Ve=[W,Z,J];v.includes("rowt")&&(l(k,W)&&(o.select.set(v,{y:W}),z(r.value,m,W)),l(k,Z)&&(o.select.set(v,{y:Z}),z(r.value,m,Z)),l(k,J)&&(o.select.set(v,{y:J}),z(r.value,m,J))),v.includes("rowc")&&(l(O,W)&&(o.select.set(v,{y:W}),z(r.value,m,W-i/2)),l(O,Z)&&(o.select.set(v,{y:Z}),z(r.value,m,Z-i/2)),l(O,J)&&(o.select.set(v,{y:J}),z(r.value,m,J-i/2))),v.includes("rowb")&&(l(G,W)&&(o.select.set(v,{y:W}),z(r.value,m,W-i)),l(G,Z)&&(o.select.set(v,{y:Z}),z(r.value,m,Z-i)),l(G,J)&&(o.select.set(v,{y:J}),z(r.value,m,J-i))),v.includes("coll")&&(l(m,L)&&(o.select.set(v,{x:L}),z(r.value,L,k)),l(m,F)&&(o.select.set(v,{x:F}),z(r.value,F,k)),l(m,U)&&(o.select.set(v,{x:U}),z(r.value,U,k))),v.includes("colc")&&(l(S,L)&&(o.select.set(v,{x:L}),z(r.value,L-c/2,k)),l(S,F)&&(o.select.set(v,{x:F}),z(r.value,F-c/2,k)),l(S,U)&&(o.select.set(v,{x:U}),z(r.value,U-c/2,k))),v.includes("colr")&&(l(x,L)&&(o.select.set(v,{x:L}),z(r.value,L-c,k)),l(x,F)&&(o.select.set(v,{x:F}),z(r.value,F-c,k)),l(x,U)&&(o.select.set(v,{x:U}),z(r.value,U-c,k)))})})}catch(c){console.log(c)}},200),{deep:!0}),ae(()=>p.value,c=>{c||(o.select.clear(),o.sorptioned.y=!1)}),(c,i)=>(b(),P("div",uo,[(b(!0),P(re,null,ue(o.lineArr,m=>(b(),P("div",{class:ne(["line",[m.includes("row")?"row":"col",o.select.has(m)&&"visible"]]),key:m,style:q(g(o.select.get(m)))},null,6))),128))]))}});const _o=te(po,[["__scopeId","data-v-792c43f5"]]),ho=j({__name:"index",setup(e){return(s,n)=>{const h=D("n-watermark");return b(),N(h,{id:"go-edit-watermark",content:t(wt),cross:"",selectable:"","font-size":16,"line-height":16,width:500,height:150,"x-offset":12,"y-offset":80,rotate:-15},null,8,["content"])}}});const go=te(ho,[["__scopeId","data-v-15e7d440"]]),ht=e=>($e("data-v-649acbea"),e=e(),Me(),e),fo=ht(()=>$("div",{class:"select-background"},null,-1)),vo=ht(()=>$("div",{class:"select-border"},null,-1)),mo=[fo,vo],Co=j({__name:"index",setup(e){ge(u=>({"4898c5de":t(g)}));const s=fe(),n=oe(),{isSelect:h,scale:o}=ye(n.getEditCanvas),g=M(()=>s.getAppTheme),d=X();return ae(()=>n.getMousePosition,u=>{if(!h.value)return;const{startX:p,startY:l,x:_,y:r}=u,a={zIndex:Je,x:0,y:0,w:0,h:0,offsetX:0,offsetY:0};_>p&&r>l?(a.x=p,a.y=l,a.w=Math.round((_-p)/o.value),a.h=Math.round((r-l)/o.value)):_>p&&r<l?(a.x=p,a.w=Math.round((_-p)/o.value),a.h=Math.round((l-r)/o.value),a.y=l-a.h):_<p&&r>l?(a.y=l,a.w=Math.round((p-_)/o.value),a.h=Math.round((r-l)/o.value),a.x=p-a.w):(a.w=Math.round((p-_)/o.value),a.h=Math.round((l-r)/o.value),a.x=p-a.w,a.y=l-a.h),d.value=H(H({},Ie(a,Je)),ie(a))},{deep:!0}),(u,p)=>t(h)?(b(),P("div",{key:0,class:"go-edit-select",style:q(d.value)},mo,4)):De("",!0)}});const yo=te(Co,[["__scopeId","data-v-649acbea"]]),So=j({__name:"index",setup(e){const s=oe(),{getEditCanvasConfig:n,getEditCanvas:h}=ye(s),o=M(()=>({w:n.value.width,h:n.value.height})),g=M(()=>{const u={transform:`scale(${h.value.scale})`};return H(H({},ie(o.value)),u)}),d=M(()=>{const u=h.value.isCreate&&{"z-index":99999};return H(H({},ie(o.value)),u)});return(u,p)=>(b(),P("div",{class:"go-edit-range go-transition",style:q(t(g)),onMousedown:p[0]||(p[0]=l=>t(so)(l,void 0))},[Ke(u.$slots,"default",{},void 0,!0),w(t(go)),w(t(_o)),w(t(yo)),$("div",{class:"go-edit-range-model",style:q(t(d))},null,4)],36))}});const xo=te(So,[["__scopeId","data-v-78e41de7"]]),To={class:"go-sketch-rule"},wo=j({__name:"index",setup(e){ge(C=>({"9d05dca8":t(O),"47efd952":t(E),"591bffa9":a.value}));const s=oe(),n=ut(),h=fe(),o=20;let g=[0,0],d=[0,0];const u=X(),p=X(!0),l=X(),_=X(),r=X(!1),a=X("auto"),{width:f,height:c}=ye(s.getEditCanvasConfig),i=X(0),m=X(0),S=ze({h:[],v:[]}),x=M(()=>s.getEditCanvas.scale),E=M(()=>`${c.value*2}px`),k=M(()=>h.getDarkTheme?{bgColor:"#18181c",longfgColor:"#4d4d4d",shortfgColor:"#4d4d4d",fontColor:"#4d4d4d",shadowColor:"#18181c",borderColor:"#18181c",cornerActiveColor:"#18181c"}:{}),O=M(()=>h.getAppTheme),G=C=>{if(C.ctrlKey||C.metaKey){C.preventDefault();let L=x.value;if(C.wheelDelta>=0&&x.value<2){L=x.value+.05,s.setScale(L);return}C.wheelDelta<0&&x.value>.1&&(L=x.value-.05,s.setScale(L))}},se=()=>{if(!u.value)return;const C=u.value.getBoundingClientRect(),L=l.value.getBoundingClientRect();i.value=(C.left+o-L.left)/x.value,m.value=(C.top+o-L.top)/x.value},Y=C=>{var W,Z;if(C.preventDefault(),C.stopPropagation(),C.which==2)r.value=!0;else if(!((W=window.$KeyboardActive)!=null&&W.space))return;(Z=document.activeElement)==null||Z.blur();const L=C.pageX,F=C.pageY,U=tt(window,"mousemove",J=>{const Ve=J.pageX-L,ft=J.pageY-F,[Ue,Se]=g,[Oe,xe]=d;g=[Se,Ve],d=[xe,ft],u.value.scrollLeft-=Se>Ue?Math.abs(Se-Ue):-Math.abs(Se-Ue),u.value.scrollTop-=xe>Oe?Math.abs(xe-Oe):-Math.abs(xe-Oe)}),Re=tt(window,"mouseup",()=>{U(),Re(),g=[0,0],d=[0,0],r.value=!1})},v=()=>{const C=document.getElementById("go-chart-edit-layout");return C?{height:C.clientHeight-20,width:C.clientWidth-20}:{width:f.value,height:c.value}},R=lt(()=>{p.value=!1,setTimeout(()=>{p.value=!0},10)},20),A=()=>{const{width:C,height:L}=_.value.getBoundingClientRect(),{width:F,height:U}=v();u.value.scrollLeft=C/2-F/2,u.value.scrollTop=L/2-U/2};return ae(()=>h.getDarkTheme,()=>{R()}),ae(()=>x.value,(C,L)=>{L!==C&&n.getRePositionCanvas?(n.setItemUnHandle(dt.RE_POSITION_CANVAS,!1),se(),setTimeout(()=>{A(),R()},400)):R()}),ae(()=>r.value,C=>{a.value=C?"grab":"auto"}),Ge(()=>{u.value&&(u.value.addEventListener("wheel",G,{passive:!1}),A())}),nt(()=>{u.value&&u.value.removeEventListener("wheel",G)}),window.onKeySpacePressHold=C=>{r.value=C},(C,L)=>{const F=D("sketch-rule");return b(),P("div",To,[p.value?(b(),N(F,{key:0,thick:o,scale:t(x),width:v().width,height:v().height,startX:i.value,startY:m.value,lines:S,palette:t(k)},null,8,["scale","width","height","startX","startY","lines","palette"])):De("",!0),$("div",{ref_key:"$app",ref:u,class:"edit-screens",onScroll:se},[$("div",{ref_key:"$container",ref:_,class:"edit-screen-container",style:q({width:t(f)*2+"px"})},[$("div",{ref_key:"refSketchRuleBox",ref:l,class:"canvas",onMousedown:Y,style:q({marginLeft:"-"+(v().width/2-25)+"px"})},[$("div",{style:q({pointerEvents:r.value?"none":"auto"})},[Ke(C.$slots,"default",{},void 0,!0)],4)],36)],4)],544)])}}});const bo=te(wo,[["__scopeId","data-v-cd5bd112"]]),Pe={[I.ADD]:"æ–°å¢ž",[I.DELETE]:"åˆ é™¤",[I.UPDATE]:"æ›´æ–°",[I.MOVE]:"ç§»åŠ¨",[I.PASTE]:"ç²˜è´´",[I.COPY]:"å¤åˆ¶",[I.CUT]:"å‰ªåˆ‡",[I.TOP]:"ç½®é¡¶",[I.BOTTOM]:"ç½®åº•",[I.UP]:"ä¸Šç§»",[I.DOWN]:"ä¸‹ç§»",[I.GROUP]:"æˆç»„",[I.UN_GROUP]:"è§£ç»„",[I.LOCK]:"é”å®š",[I.UNLOCK]:"è§£é”",[I.HIDE]:"éšè—",[I.SHOW]:"æ˜¾ç¤º",[Ee.CANVAS]:"ç”»å¸ƒåˆå§‹åŒ–"};var Eo=Array.prototype,Lo=Eo.reverse;function ko(e){return e==null?e:Lo.call(e)}var Io=ko;const Do=bt(Io),gt=e=>($e("data-v-78517dbe"),e=e(),Me(),e),$o={class:"go-flex-items-center"},Mo=gt(()=>$("span",{class:"btn-text"},"åŽ†å²è®°å½•",-1)),Ro={class:"history-list-box"},Uo=["title"],Oo=gt(()=>$("div",{class:"popover-modal"},null,-1)),Ho=j({__name:"index",setup(e){const{DesktopOutlineIcon:s,PencilIcon:n,TrashIcon:h,CopyIcon:o,LayersIcon:g,DuplicateIcon:d,HelpOutlineIcon:u,LockClosedOutlineIcon:p,LockOpenOutlineIcon:l,EyeOffOutlineIcon:_,EyeOutlineIcon:r}=le.ionicons5,{StackedMoveIcon:a,Carbon3DCursorIcon:f,Carbon3DSoftwareIcon:c}=le.carbon,i=Kt(),m=E=>{if(E.targetType===Ee.CANVAS)return s;switch(E.actionType){case I.UPDATE:return n;case I.DELETE:return h;case I.PASTE:return o;case I.TOP:return g;case I.BOTTOM:return g;case I.UP:return g;case I.DOWN:return g;case I.MOVE:return a;case I.ADD:return d;case I.GROUP:return f;case I.UN_GROUP:return c;case I.LOCK:return p;case I.UNLOCK:return l;case I.HIDE:return _;case I.SHOW:return r;default:return n}},S=E=>{if(E.targetType===Ee.CANVAS)return Pe[Ee.CANVAS];if(E.actionType===I.GROUP||E.actionType===I.UN_GROUP)return`${Pe[E.actionType]}`;if(E.historyData.length)return`${Pe[E.actionType]} - ${E.historyData[0].chartConfig.title}`},x=M(()=>{const k=i.getBackStack.map(O=>({label:S(O),icon:m(O)}));return Do(k.filter(O=>O.label))});return(E,k)=>{const O=D("n-button"),G=D("n-icon"),se=D("n-text"),Y=D("n-scrollbar"),v=D("n-popover"),R=D("n-tooltip");return b(),P("div",$o,[w(v,{class:"edit-history-popover","show-arrow":!1,size:"small",trigger:"click",placement:"top-start"},{trigger:T(()=>[w(O,{class:"mr-10",secondary:"",size:"small",disabled:t(x).length===0},{default:T(()=>[Mo]),_:1},8,["disabled"])]),default:T(()=>[$("div",Ro,[w(Y,{style:{"max-height":"500px"}},{default:T(()=>[(b(!0),P(re,null,ue(t(x),(A,C)=>(b(),P("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:C,title:A.label},[w(G,{class:"item-icon",size:"16",depth:2,component:A.icon},null,8,["component"]),w(se,{depth:"2"},{default:T(()=>[he(ee(A.label),1)]),_:2},1024)],8,Uo))),128))]),_:1}),Oo])]),_:1}),w(R,{trigger:"hover"},{trigger:T(()=>[w(G,{size:"21",depth:3},{default:T(()=>[w(t(u))]),_:1})]),default:T(()=>[$("span",null,"æœ€å¤šåªä¿ç•™"+ee(t(Et))+"æ¡è®°å½•",1)]),_:1})])}}});const Ao=te(Ho,[["__scopeId","data-v-78517dbe"]]),We=e=>($e("data-v-bbdb0a72"),e=e(),Me(),e),Po=We(()=>$("th",null,"åŠŸèƒ½",-1)),Yo=We(()=>$("th",null,"Win å¿«æ·é”®",-1)),Xo=We(()=>$("span",null," Mac å¿«æ·é”® ",-1)),No={key:0},Bo={key:1},Go=j({__name:"ShortcutKeyModal",props:{modelShow:Boolean},emits:["update:modelShow"],setup(e,{emit:s}){const n=e,{CloseIcon:h}=le.ionicons5,o=X(!1);ae(()=>n.modelShow,u=>{o.value=u});const g=[{label:"æ‹–æ‹½ç”»å¸ƒ",win:`${B.SPACE.toUpperCase()} + ðŸ–±ï¸ `,mac:`${K.SPACE.toUpperCase()} + ðŸ–±ï¸ `,macSource:!0},{label:"å‘ ä¸Š/å³/ä¸‹/å·¦ ç§»åŠ¨",win:`${B.CTRL.toUpperCase()} + â†‘ æˆ– â†’ æˆ– â†“ æˆ– â†`,mac:`${K.CTRL.toUpperCase()} + â†‘ `},{label:"é”å®š",win:`${B.CTRL.toUpperCase()} + L `,mac:`${K.CTRL.toUpperCase()} + L `},{label:"è§£é”",win:`${B.CTRL.toUpperCase()} + ${B.SHIFT.toUpperCase()}+ L `,mac:`${K.CTRL.toUpperCase()} + ${K.SHIFT.toUpperCase()} + L `},{label:"å±•ç¤º",win:`${B.CTRL.toUpperCase()} + H `,mac:`${K.CTRL.toUpperCase()} + H `},{label:"éšè—",win:`${B.CTRL.toUpperCase()} + ${B.SHIFT.toUpperCase()} + H `,mac:`${K.CTRL.toUpperCase()} + ${K.SHIFT.toUpperCase()} + H `},{label:"åˆ é™¤",win:"Delete".toUpperCase(),mac:`${K.CTRL.toUpperCase()} + Backspace `},{label:"å¤åˆ¶",win:`${B.CTRL.toUpperCase()} + C `,mac:`${K.CTRL.toUpperCase()} + C `},{label:"å‰ªåˆ‡",win:`${B.CTRL.toUpperCase()} + X `,mac:`${K.CTRL.toUpperCase()} + X `},{label:"ç²˜è´´",win:`${B.CTRL.toUpperCase()} + V `,mac:`${K.CTRL.toUpperCase()} + V `},{label:"åŽé€€",win:`${B.CTRL.toUpperCase()} + Z `,mac:`${K.CTRL.toUpperCase()} + Z `},{label:"å‰è¿›",win:`${B.CTRL.toUpperCase()} + ${B.SHIFT.toUpperCase()} + Z `,mac:`${K.CTRL.toUpperCase()} + ${K.SHIFT.toUpperCase()} + Z `},{label:"ä¿å­˜",win:`${B.CTRL.toUpperCase()} + S `,mac:`${K.CTRL.toUpperCase()} + S `},{label:"å¤šé€‰",win:`${B.CTRL.toUpperCase()} + ðŸ–±ï¸ `,mac:`${K.CTRL.toUpperCase()} + ðŸ–±ï¸ `},{label:"åˆ›å»ºåˆ†ç»„",win:`${B.CTRL.toUpperCase()} + G / ðŸ–±ï¸ `,mac:`${K.CTRL.toUpperCase()} + G / ðŸ–±ï¸`},{label:"è§£é™¤åˆ†ç»„",win:`${B.CTRL.toUpperCase()} + ${B.SHIFT.toUpperCase()} + G `,mac:`${K.CTRL.toUpperCase()} + ${B.SHIFT.toUpperCase()} + G `}],d=()=>{s("update:modelShow",!1)};return(u,p)=>{const l=D("n-icon"),_=D("n-space"),r=D("n-gradient-text"),a=D("n-table"),f=D("n-modal");return b(),N(f,{show:o.value,"onUpdate:show":p[0]||(p[0]=c=>o.value=c),"mask-closable":!0,onAfterLeave:d},{default:T(()=>[w(a,{class:"model-content",bordered:!1,"single-line":!1},{default:T(()=>[$("thead",null,[$("tr",null,[Po,Yo,$("th",null,[w(_,{justify:"space-between"},{default:T(()=>[Xo,w(l,{size:"20",class:"go-cursor-pointer",onClick:d},{default:T(()=>[w(t(h))]),_:1})]),_:1})])])]),$("tbody",null,[(b(),P(re,null,ue(g,(c,i)=>$("tr",{key:i},[$("td",null,ee(c.label),1),$("td",null,ee(c.win),1),c.macSource?(b(),P("td",No,ee(c.mac),1)):(b(),P("td",Bo,[w(r,{size:22},{default:T(()=>[he(ee(c.mac.substr(0,1)),1)]),_:2},1024),he(" + "+ee(c.mac.substr(3)),1)]))])),64))])]),_:1})]),_:1},8,["show"])}}});const Ko=te(Go,[["__scopeId","data-v-bbdb0a72"]]),zo=e=>($e("data-v-f48c63d8"),e=e(),Me(),e),Fo={class:"go-edit-shortcut"},Wo=zo(()=>$("span",null,"å¿«æ·é”®",-1)),Vo=j({__name:"index",setup(e){const{DicomOverlayIcon:s}=le.carbon,n=X(!1);return(h,o)=>{const g=D("n-icon"),d=D("n-button"),u=D("n-tooltip");return b(),P("div",Fo,[w(Ko,{modelShow:n.value,"onUpdate:modelShow":o[0]||(o[0]=p=>n.value=p)},null,8,["modelShow"]),w(u,{trigger:"hover"},{trigger:T(()=>[w(d,{class:"scale-btn",secondary:"",size:"small",onClick:o[1]||(o[1]=p=>n.value=!0)},{default:T(()=>[w(g,{size:"21",depth:3},{default:T(()=>[w(t(s))]),_:1})]),_:1})]),default:T(()=>[Wo]),_:1})])}}});const qo=te(Vo,[["__scopeId","data-v-f48c63d8"]]),jo={class:"go-edit-data-sync go-flex-items-center"},Zo=j({__name:"index",setup(e){ge(_=>({"07b59586":g.value}));const{ReloadIcon:s}=le.ionicons5,n=oe(),h=fe(),{saveStatus:o}=ye(n.getEditCanvas),g=X(h.getAppTheme),d=X(""),u=X("");let p=setTimeout(()=>{});const l={[pe.PENDING]:{text:"ç­‰å¾…è‡ªåŠ¨åŒæ­¥",type:""},[pe.START]:{text:"æ­£åœ¨åŒæ­¥ä¸­",type:"success"},[pe.SUCCESS]:{text:"åŒæ­¥æˆåŠŸï¼",type:"success"},[pe.FAILURE]:{text:"åŒæ­¥å¤±è´¥!",type:"error"}};return ae(()=>o.value,_=>{clearTimeout(p),d.value=l[_].text,u.value=l[_].type,p=setTimeout(()=>{d.value=l[pe.PENDING].text,u.value=l[pe.PENDING].type},3e3)},{immediate:!0}),(_,r)=>{const a=D("n-text"),f=D("n-tooltip"),c=D("n-icon"),i=D("n-spin");return b(),P("div",jo,[w(f,{trigger:"hover"},{trigger:T(()=>[w(a,{class:"status-desc go-ml-2",type:u.value,depth:"3"},{default:T(()=>[he(ee(d.value),1)]),_:1},8,["type"])]),default:T(()=>[$("span",null,ee(t(Lt))+"s æ›´æ–°ä¸€æ¬¡",1)]),_:1}),we(w(i,{class:"go-ml-2",size:"small"},{icon:T(()=>[w(c,{size:"13"},{default:T(()=>[w(t(s))]),_:1})]),_:1},512),[[be,d.value===l[1].text]])])}}});const Jo=te(Zo,[["__scopeId","data-v-18522cbc"]]),Qo={class:"go-edit-bottom"},es=j({__name:"index",setup(e){ge(x=>({"6f88b5b6":o.value}));const{LockClosedOutlineIcon:s,LockOpenOutlineIcon:n}=le.ionicons5,h=fe(),o=X(h.getAppTheme),g=ut(),d=oe(),{lockScale:u,scale:p}=ye(d.getEditCanvas),l=X(null);let _=[{label:"200%",value:200},{label:"150%",value:150},{label:"100%",value:100},{label:"50%",value:50},{label:"è‡ªé€‚åº”",value:0}];const r=X(""),a=x=>{var E;if((E=l.value)==null||E.blur(),x===0){g.setItemUnHandle(dt.RE_POSITION_CANVAS,!0),d.computedScale();return}d.setScale(x/100)},f=()=>{d.setEditCanvas(V.LOCK_SCALE,!u.value)},c=X(100),i=x=>`${x}%`,m=x=>{d.setScale(x/100)},S=ze({100:""});return kt(()=>{const x=(p.value*100).toFixed(0);r.value=`${x}%`,c.value=parseInt(x)}),(x,E)=>{const k=D("n-text"),O=D("n-divider"),G=D("n-space"),se=D("n-select"),Y=D("n-icon"),v=D("n-button"),R=D("n-tooltip"),A=D("n-slider");return b(),P("div",Qo,[w(G,null,{default:T(()=>[w(t(Ao)),w(k,{id:"keyboard-dress-show",depth:"3"}),w(O,{vertical:""}),w(t(Jo))]),_:1}),w(G,{class:"bottom-ri"},{default:T(()=>[w(t(qo)),w(se,{ref_key:"selectInstRef",ref:l,class:"scale-btn",value:r.value,"onUpdate:value":[E[0]||(E[0]=C=>r.value=C),a],size:"mini",disabled:t(u),options:t(_)},null,8,["value","disabled","options"]),w(R,{trigger:"hover"},{trigger:T(()=>[w(v,{onClick:f,text:""},{default:T(()=>[w(Y,{class:ne(["lock-icon",{color:t(u)}]),size:"18",depth:2},{default:T(()=>[t(u)?(b(),N(t(s),{key:0})):(b(),N(t(n),{key:1}))]),_:1},8,["class"])]),_:1})]),default:T(()=>[$("span",null,ee(t(u)?"è§£é”":"é”å®š")+"å½“å‰æ¯”ä¾‹",1)]),_:1}),w(A,{class:"scale-slider",value:c.value,"onUpdate:value":[E[1]||(E[1]=C=>c.value=C),m],"default-value":50,min:10,max:200,step:5,"format-tooltip":i,disabled:t(u),marks:S},null,8,["value","disabled","marks"])]),_:1})])}}});const ts=te(es,[["__scopeId","data-v-ce473972"]]),Ce=oe(),os=()=>{Ce.setTargetSelectChart(void 0),It(Dt(Ce.getStorageInfo()||[]),void 0,"json");const e=document.querySelector(".go-edit-range"),s=document.getElementById("go-edit-watermark");if(!e||!s){window.$message.error("å¯¼å‡ºå¤±è´¥ï¼");return}const n=Ce.getEditCanvas.scale;Ce.setScale(1,!0),s.style.display="block",setTimeout(()=>{$t(e,()=>{s&&(s.style.display="none"),Ce.setScale(n,!0)})},600)},ss=()=>{const e=X(),{updateComponent:s}=it();return{importUploadFileListRef:e,importBeforeUpload:({file:o})=>{e.value=[];const g=o.file.type;return g!==ot.JSON&&g!==ot.TXT?(window.$message.warning("ä»…æ”¯æŒä¸Šä¼  ã€JSONã€‘ æ ¼å¼æ–‡ä»¶ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼"),!1):!0},importCustomRequest:o=>{const{file:g}=o;Mt(()=>{g.file?Rt(g.file).then(d=>{jt({message:"è¯·é€‰æ‹©å¯¼å…¥æ–¹å¼:",positiveText:"æ–°å¢žï¼ˆå¯æ’¤å›žï¼‰",negativeText:"è¦†ç›–ï¼ˆä¸å¯æ’¤å›žï¼‰",negativeButtonProps:{type:"info",ghost:!1},onPositiveCallback:()=>de(void 0,null,function*(){try{d=Ye(d),yield s(d,!1,!0),window.$message.success("å¯¼å…¥æˆåŠŸï¼")}catch(u){console.log(u),window.$message.error("ç»„ä»¶å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§!")}}),onNegativeCallback:()=>de(void 0,null,function*(){try{d=Ye(d),yield s(d,!0,!0),window.$message.success("å¯¼å…¥æˆåŠŸï¼")}catch(u){console.log(u),window.$message.error("ç»„ä»¶å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§!")}})})}):window.$message.error("å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®æˆ–è”ç³»ç®¡ç†å‘˜ï¼")})}}};var ce=(e=>(e.BUTTON="button",e.IMPORTUPLOAD="importUpload",e))(ce||{});const ns={class:"btn-item"},as=j({__name:"index",setup(e){const{DownloadIcon:s,ShareIcon:n,PawIcon:h,SettingsSharpIcon:o,CreateIcon:g}=le.ionicons5,d=ct(),u=oe();Ut(),Qt();let p=null;const l=X(!1),_=X(!0),r=X(!0),{importUploadFileListRef:a,importCustomRequest:f,importBeforeUpload:c}=ss(),i=M(()=>d.getChartToolsStatus===Qe.ASIDE),m=M(()=>d.getChartToolsStatusHide),S=M(()=>_.value&&m.value),x=M(()=>{if(!i.value)return se;const Y=[];return se.map(v=>{Y.unshift(v)}),Y}),E=()=>{p=setTimeout(()=>{_.value&&(_.value=!1,r.value=!0)},200),setTimeout(()=>{r.value=!1},400)},k=()=>{clearTimeout(p),_.value||(_.value=!0)},O=()=>{window.$message.warning("è¯·é€šè¿‡é¡¶éƒ¨ã€åŒæ­¥å†…å®¹ã€‘æŒ‰é’®åŒæ­¥æœ€æ–°æ•°æ®ï¼"),u.setEditCanvas(V.IS_CODE_EDIT,!0),setTimeout(()=>{const Y=Ht(At.CHART_EDIT_NAME,"href");if(!Y)return;const v=Pt();G(v),Yt(Y,[v],void 0,!0)},2e3)},G=Y=>{const v=u.getStorageInfo(),R=Xt(Te.GO_CHART_STORAGE_LIST)||[];if(R!=null&&R.length){const A=R.findIndex(C=>C.id===Y);A!==-1?(R.splice(A,1,ve(H({},v),{id:Y})),Ae(Te.GO_CHART_STORAGE_LIST,R)):(R.push(ve(H({},v),{id:Y})),Ae(Te.GO_CHART_STORAGE_LIST,R))}else Ae(Te.GO_CHART_STORAGE_LIST,[ve(H({},v),{id:Y})])},se=[{key:"import",type:ce.IMPORTUPLOAD,name:"å¯¼å…¥",icon:n},{key:"export",type:ce.BUTTON,name:"å¯¼å‡º",icon:s,handle:os},{key:"edit",type:ce.BUTTON,name:"ç¼–è¾‘",icon:g,handle:O},{key:"setting",type:ce.BUTTON,name:"è®¾ç½®",icon:o,handle:()=>{l.value=!0}}];return(Y,v)=>{const R=D("n-icon"),A=D("n-text"),C=D("n-button"),L=D("n-upload"),F=D("n-tooltip");return b(),P(re,null,[$("div",{class:ne(["go-chart-edit-tools",[t(d).getChartToolsStatus,t(S)?"isMini":"unMini"]]),onClick:v[1]||(v[1]=U=>_.value&&(_.value=!1)),onMouseenter:E,onMouseleave:k},[we(w(R,{class:"asideLogo",size:"22"},{default:T(()=>[w(t(h))]),_:1},512),[[be,t(d).getChartToolsStatus===t(Qe).ASIDE&&t(S)]]),(b(!0),P(re,null,ue(t(x),(U,Re)=>(b(),N(F,{key:U.key,disabled:!t(i)||t(m)&&r.value,trigger:"hover",placement:"left"},{trigger:T(()=>[$("div",ns,[U.type===t(ce).BUTTON?(b(),N(C,{key:0,circle:t(i),secondary:"",onClick:U.handle},{icon:T(()=>[t(i)?(b(),N(R,{key:0,size:"22"},{default:T(()=>[(b(),N(_e(U.icon)))]),_:2},1024)):(b(),N(_e(U.icon),{key:1}))]),default:T(()=>[we(w(A,{depth:"3"},{default:T(()=>[he(ee(U.name),1)]),_:2},1536),[[be,!t(i)]])]),_:2},1032,["circle","onClick"])):U.type===t(ce).IMPORTUPLOAD?(b(),N(L,{key:1,"file-list":t(a),"onUpdate:file-list":v[0]||(v[0]=W=>Ot(a)?a.value=W:null),"show-file-list":!1,customRequest:t(f),onBeforeUpload:t(c)},{default:T(()=>[w(C,{circle:t(i),secondary:""},{icon:T(()=>[t(i)?(b(),N(R,{key:0,size:"22"},{default:T(()=>[(b(),N(_e(U.icon)))]),_:2},1024)):(b(),N(_e(U.icon),{key:1}))]),default:T(()=>[we(w(A,{depth:"3"},{default:T(()=>[he(ee(U.name),1)]),_:2},1536),[[be,!t(i)]])]),_:2},1032,["circle"])]),_:2},1032,["file-list","customRequest","onBeforeUpload"])):De("",!0)])]),default:T(()=>[$("span",null,ee(U.name),1)]),_:2},1032,["disabled"]))),128))],34),w(t(Jt),{modelShow:l.value,"onUpdate:modelShow":v[2]||(v[2]=U=>l.value=U)},null,8,["modelShow"])],64)}}});const rs=te(as,[["__scopeId","data-v-705dcb7b"]]),cs=j({__name:"index",setup(e){const s=oe(),{handleContextMenu:n}=Fe(),{dataSyncFetch:h,intervalDataSyncUpdate:o}=it();Nt(),Bt(Ft,null),eo(()=>de(this,null,function*(){}));const{mouseenterHandle:g,mouseleaveHandle:d,mousedownHandle:u,mouseClickHandle:p}=_t(),l=(f,c,i)=>{if(s.getTargetChart.selectId.length>1)return c.filter(S=>[Q.GROUP,Q.DELETE].includes(S.key));const m=[];return i.status.lock?m.push(Q.LOCK):m.push(Q.UNLOCK),i.status.hide?m.push(Q.HIDE):m.push(Q.SHOW),f.filter(S=>!m.includes(S.key))},_=M(()=>s.getEditCanvasConfig.chartThemeSetting),r=M(()=>at(s.getEditCanvasConfig.chartCustomThemeColorInfo)[s.getEditCanvasConfig.chartThemeColor]);M(()=>s.getEditCanvasConfig.filterShow);const a=M(()=>{const f=s.getEditCanvasConfig.background,c=s.getEditCanvasConfig.backgroundImage,S=s.getEditCanvasConfig.selectColor?{background:f||void 0}:{background:`url(${c}) no-repeat center center / cover !important`};return ve(H({},S),{width:"inherit",height:"inherit"})});return Ge(()=>{Wt(),h()}),(f,c)=>(b(),N(t(Zt),{id:"go-chart-edit-layout",flex:!0,showTop:!1,showBottom:!0,depth:1,xScroll:!0,disabledScroll:!0,onMousedown:t(pt),onDrop:t(oo),onDragover:t(st),onDragenter:t(st)},{aside:T(()=>[w(t(rs))]),bottom:T(()=>[w(t(ts))]),default:T(()=>[w(t(bo),null,{default:T(()=>[$("div",{id:"go-chart-edit-content",onContextmenu:c[0]||(c[0]=(...i)=>t(n)&&t(n)(...i))},[w(t(xo),null,{default:T(()=>[$("div",{style:q(H(H({},t(ke)(t(s).getEditCanvasConfig)),t(a)))},[(b(!0),P(re,null,ue(t(s).getComponentList,(i,m)=>(b(),P("div",{key:i.id},[i.isGroup?(b(),N(t(io),{key:0,groupData:i,groupIndex:m},null,8,["groupData","groupIndex"])):(b(),N(t(Be),{key:1,"data-id":i.id,index:m,style:q(H(H({},t(Ie)(i.attr,m)),t(rt)(i.styles))),item:i,onClick:S=>t(p)(S,i),onMousedown:S=>t(u)(S,i),onMouseenter:S=>t(g)(S,i),onMouseleave:S=>t(d)(S,i),onContextmenu:S=>t(n)(S,i,l)},{default:T(()=>[(b(),N(_e(i.chartConfig.chartKey),{class:ne(["edit-content-chart",t(Xe)(i.styles.animations)]),chartConfig:i,themeSetting:t(_),themeColor:t(r),style:q(H(H(H({},t(ie)(i.attr)),t(ke)(i.styles)),t(Ne)(i.styles)))},null,8,["class","chartConfig","themeSetting","themeColor","style"]))]),_:2},1032,["data-id","index","style","item","onClick","onMousedown","onMouseenter","onMouseleave","onContextmenu"]))]))),128))],4)]),_:1})],32)]),_:1})]),_:1},8,["onMousedown","onDrop","onDragover","onDragenter"]))}});const $s=te(cs,[["__scopeId","data-v-3ccfb99d"]]);export{$s as default};

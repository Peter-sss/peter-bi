var $=(p,i,d)=>new Promise((v,f)=>{var g=r=>{try{s(d.next(r))}catch(h){f(h)}},e=r=>{try{s(d.throw(r))}catch(h){f(h)}},s=r=>r.done?v(r.value):Promise.resolve(r.value).then(g,e);s((d=d.apply(p,i)).next())});import{d as N,a7 as he,X as ve,Y as fe,b as ye,r as y,J as B,x as _,c as C,e as w,O as T,Q as L,l as n,h as l,f as S,w as m,A as F,u as Ce,W as be,b8 as Oe,b6 as te,b9 as Se,Z as ke,ba as Ie,F as K,j as Y,B as H,p as q,t as J,an as R,aV as xe,y as we,z as Te,U as k,bb as Ee,a2 as Le}from"./index-aa7518de.js";import{C as He}from"./index-ebbeeec8.js";import{l as Ne,c as Q}from"./index-b3402de5.js";import{c as oe,b as Ae,_ as Pe,f as $e,d as Be,e as Re}from"./index-a2f40237.js";import{a as ze,b as Fe,l as Ve}from"./plugin-2ac2d336.js";import{i as V}from"./icon-49f969d0.js";import{u as D,a as W,C as z}from"./chartLayoutStore-e45b6248.js";import{u as De,P as I,b as x}from"./chartEditStore-dcae2239.js";const Me={class:"go-chart-common"},Ue={class:"chart-content-list"},je=N({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(p){const i=p,d=Ne(()=>he(()=>import("./index-f3d42fee.js"),["peter-bi/static/js/index-f3d42fee.js","peter-bi/static/js/index-9e96f542.js","peter-bi/static/js/index-aa7518de.js","peter-bi/static/css/index-79930e9d.css","peter-bi/static/js/icon-49f969d0.js","peter-bi/static/css/index-247c99bc.css","peter-bi/static/js/chartEditStore-dcae2239.js","peter-bi/static/js/plugin-2ac2d336.js","peter-bi/static/js/chartLayoutStore-e45b6248.js","peter-bi/static/js/index-a2f40237.js","peter-bi/static/js/SettingItem-1a79e0b6.js","peter-bi/static/css/StylesSetting-7ca7a4ce.css","peter-bi/static/js/SettingItemBox-f83f1980.js","peter-bi/static/js/CollapseItem.vue_vue_type_script_setup_true_lang-78c03a72.js","peter-bi/static/js/index.esm.min-99d94c47.js","peter-bi/static/js/http-52934de2.js","peter-bi/static/js/fileTypeEnum-21359a08.js","peter-bi/static/css/index-0301d9d5.css","peter-bi/static/js/index-b3402de5.js","peter-bi/static/css/index-3486f0f1.css","peter-bi/static/js/index-ebbeeec8.js","peter-bi/static/css/index-366d23c6.css","peter-bi/static/css/index-44779482.css"])),v=oe(),f=ve(),g=fe(()=>e.categorysNum>2?!0:!f.getHidePackageOneCategory);let e=ye({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"所有"},categorysNum:0,saveSelectOptions:{}});const s=y("all"),r=a=>{for(const o in a){e.selectOptions=a[o];break}};B(()=>i.selectOptions,a=>{if(e.categorysNum=0,!!a){a.list.forEach(o=>{const b=e.categorys[o.category];e.categorys[o.category]=b&&b.length?[...b,o]:[o],e.categoryNames[o.category]=o.categoryName,e.categorys.all.push(o)});for(const o in e.categorys)e.categorysNum+=1,e.menuOptions.push({key:o,label:e.categoryNames[o]});r(e.categorys),s.value=e.menuOptions[0].key}},{immediate:!0}),B(()=>v.newPhoto,a=>{if(!a)return;const o=a.category;e.categorys[o].splice(1,0,a),e.categorys.all.splice(1,0,a)});const h=(a,o)=>{e.categorys[a.category].splice(o,1),e.categorys.all.splice(o,1)},O=a=>{e.selectOptions=e.categorys[a]};return(a,o)=>{const b=_("n-menu"),M=_("n-scrollbar");return C(),w("div",Me,[T(l(b,{class:"chart-menu-width",value:s.value,"onUpdate:value":[o[0]||(o[0]=A=>s.value=A),O],options:n(e).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[L,n(g)]]),S("div",Ue,[l(M,{trigger:"none"},{default:m(()=>[l(n(d),{menuOptions:n(e).selectOptions,onDeletePhoto:h},null,8,["menuOptions"])]),_:1})])])}}});const Ge=F(je,[["__scopeId","data-v-7b1aa2ee"]]),Ke=Ce(),ne=y(Ke.getAppTheme),{setItem:X}=D(),{getCharts:Z}=be(D()),Ye={class:"list-img",alt:"图表图片"},qe=N({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(p){const i=p,d=y(""),v=()=>$(this,null,function*(){d.value=yield Ae(i.chartConfig)});return B(()=>i.chartConfig.key,()=>v(),{immediate:!0}),(f,g)=>{const e=Oe("lazy");return T((C(),w("img",Ye,null,512)),[[e,d.value]])}}}),Je=p=>(we("data-v-213ed1e1"),p=p(),Te(),p),Qe={class:"go-chart-search-box"},We={class:"search-list-box"},Xe=["title","onClick"],Ze=Je(()=>S("div",{class:"popover-modal"},null,-1)),et=N({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(p){const i=p;te(t=>({"4558f71a":n(ne)}));const d=De(),v=D(),{SearchIcon:f,AlbumsIcon:g,GridIcon:e}=V.ionicons5,s=y(!1),r=y(!1),h=y(void 0),O=y(null),a=y([]),o=y(v.getChartType),b=[{label:"单列",icon:g,value:W.SINGLE},{label:"双列",icon:e,value:W.DOUBLE}],A=(t=>{const c=[];for(const E of t)c.push(...E.list);return c})(i.menuOptions),P=()=>{h.value=void 0,r.value=!1,O.value=null,a.value=[]},se=t=>{if(!xe(t)||!t.length){P();return}h.value=!0,r.value=!0,a.value=A.filter(c=>!c.disabled&&(!t||c.title.toLowerCase().includes(t.toLowerCase()))),setTimeout(()=>{h.value=void 0},500)},U=t=>{r.value&&t.target&&(t.target.closest(".go-chart-search")||P())},ae=t=>$(this,null,function*(){if(!t.disabled)try{ze(),Q(t.chartKey,$e(t)),Q(t.conKey,Be(t));let c=yield Re(t);t.redirectComponent&&(t.dataset&&(c.option.dataset=t.dataset),c.chartConfig.title=t.title,c.chartConfig.chartFrame=t.chartFrame),d.addComponentList(c,!1,!0),d.setTargetSelectChart(c.id),P(),Fe()}catch(c){Ve(),window.$message.warning("图表正在研发中, 敬请期待...")}}),j=t=>{s.value=t},ce=t=>{o.value=t,v.setItem(z.Chart_TYPE,t)};return Se(document,"click",t=>{U(t)}),ke(()=>{Ie(document,"click",U)}),(t,c)=>{const E=_("n-icon"),le=_("n-input"),re=_("n-input-group"),ie=_("n-empty"),ue=_("n-text"),pe=_("n-scrollbar"),de=_("n-popover"),_e=_("n-tooltip"),me=_("n-button"),ge=_("n-button-group");return C(),w("div",Qe,[S("div",{class:R(["chart-search go-transition",{"chart-search-focus":s.value}])},[l(de,{class:"chart-search-popover","show-arrow":!1,show:r.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:m(()=>[l(re,null,{default:m(()=>[l(le,{size:"small",placeholder:"搜索组件",value:O.value,"onUpdate:value":[c[0]||(c[0]=u=>O.value=u),se],valueModifiers:{trim:!0},loading:h.value,onFocus:c[1]||(c[1]=u=>j(!0)),onBlur:c[2]||(c[2]=u=>j(!1))},{suffix:m(()=>[T(l(E,{component:n(f)},null,8,["component"]),[[L,!h.value]])]),_:1},8,["value","loading"])]),_:1})]),default:m(()=>[S("div",We,[l(pe,{style:{"max-height":"500px"}},{default:m(()=>[T(l(ie,{size:"small",description:"没有找到组件~"},null,512),[[L,!a.value.length]]),(C(!0),w(K,null,Y(a.value,u=>(C(),w("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:u.key,title:u.title,onClick:G=>ae(u)},[u.icon?(C(),H(n(Pe),{key:0,class:"list-img",icon:u.icon,color:"#999",width:"20"},null,8,["icon"])):(C(),H(n(qe),{key:1,class:"list-item-img",chartConfig:u},null,8,["chartConfig"])),l(ue,{class:"list-item-fs",depth:"2"},{default:m(()=>[q(J(u.title),1)]),_:2},1024)],8,Xe))),128))]),_:1}),Ze])]),_:1},8,["show"])],2),l(ge,{class:R(["btn-group go-transition",{"btn-group-focus":s.value}]),style:{display:"flex"}},{default:m(()=>[(C(),w(K,null,Y(b,(u,G)=>l(me,{ghost:"",size:"small",key:G,type:o.value===u.value?"primary":"tertiary",onClick:mt=>ce(u.value)},{default:m(()=>[l(_e,{"show-arrow":!1,trigger:"hover"},{trigger:m(()=>[l(E,{size:"14",component:u.icon},null,8,["component"])]),default:m(()=>[q(" "+J(u.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}});const tt=F(et,[["__scopeId","data-v-213ed1e1"]]),{AirPlaneOutlineIcon:ot,ImageIcon:nt,BarChartIcon:st}=V.ionicons5,{TableSplitIcon:at,RoadmapIcon:ct,SpellCheckIcon:lt,GraphicalDataFlowIcon:rt}=V.carbon,ee={[I.CHARTS]:{icon:k(ct),label:x.CHARTS},[I.INFORMATIONS]:{icon:k(lt),label:x.INFORMATIONS},[I.TABLES]:{icon:k(at),label:x.TABLES},[I.DECORATES]:{icon:k(rt),label:x.DECORATES},[I.PHOTOS]:{icon:k(nt),label:x.PHOTOS},[I.ICONS]:{icon:k(ot),label:x.ICONS}},it=()=>{const p=oe(),i=[];(()=>{for(const s in p.getPackagesList)i.push({key:s,icon:ee[s].icon,label:ee[s].label,list:p.getPackagesList[s]})})();let v=i[0].key;const f=y(i[0].key),g=y(i[0]);return{getCharts:Z,BarChartIcon:st,themeColor:ne,selectOptions:g,selectValue:f,clickItemHandle:(s,r)=>{g.value=r,v===s?X(z.CHARTS,!Z.value,!1):X(z.CHARTS,!0,!1),v=s},menuOptions:i}},ut={class:"menu-width-box"},pt={class:"menu-component-box"},dt=N({__name:"index",setup(p){te(r=>({a65d33fe:n(v)}));const{getCharts:i,BarChartIcon:d,themeColor:v,selectOptions:f,selectValue:g,clickItemHandle:e,menuOptions:s}=it();return(r,h)=>{const O=_("n-icon"),a=_("n-menu"),o=_("go-skeleton");return C(),H(n(He),{class:R(["go-content-charts",{scoped:!n(i)}]),title:"组件",depth:1,backIcon:!1},{icon:m(()=>[l(O,{size:"14",depth:2},{default:m(()=>[l(n(d))]),_:1})]),"top-right":m(()=>[T(l(n(tt),{menuOptions:n(s)},null,8,["menuOptions"]),[[L,n(i)]])]),default:m(()=>[S("aside",null,[S("div",ut,[l(a,{class:"menu-width",value:n(g),"onUpdate:value":[h[0]||(h[0]=b=>Ee(g)?g.value=b:null),n(e)],options:n(s),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),S("div",pt,[l(o,{load:!n(f),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),n(f)?(C(),H(n(Ge),{selectOptions:n(f),key:n(g)},null,8,["selectOptions"])):Le("",!0)])])])]),_:1},8,["class"])}}});const _t=F(dt,[["__scopeId","data-v-f892928e"]]),kt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"}));export{qe as _,kt as i};

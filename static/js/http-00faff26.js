var E=Object.defineProperty;var T=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var q=(e,t,r)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))F.call(t,r)&&q(e,r,t[r]);if(T)for(var r of T(t))S.call(t,r)&&q(e,r,t[r]);return e};import{aI as L,aM as i,co as p,aL as N,cp as h}from"./index-6978caf2.js";const O="javascript:",a=e=>{if(typeof e=="string")if(e.startsWith(O)){const t=e.split(O)[1];let r;try{r=new Function(`${t}`)()}catch(l){console.log(l),window.$message.error("js内容解析有误！")}return r}else return e;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];e[t]=a(r)}return e},B=(e,t)=>{if(!e||!t)return;const{requestOriginUrl:r,requestParams:l}=t,{requestUrl:f,requestContentType:w,requestDataType:C,requestHttpType:R,requestParamsBodyType:D,requestSQLContent:b,requestParams:c}=e;if(C===L.STATIC||!f)return;let o=m(m({},l.Header),c.Header);o=a(o);let s={},d=m({},c.Params);d=a(d);let y=new FormData;switch(D){case i.NONE:break;case i.JSON:o["Content-Type"]=p.JSON,s=a(c.Body.json),typeof s=="string"&&(s=JSON.parse(s));break;case i.XML:o["Content-Type"]=p.XML,s=a(c.Body.xml);break;case i.X_WWW_FORM_URLENCODED:{o["Content-Type"]=p.FORM_URLENCODED;const n=c.Body["x-www-form-urlencoded"];for(const u in n)y.set(u,a(n[u]));s=y;break}case i.FORM_DATA:{o["Content-Type"]=p.FORM_DATA;const n=c.Body["form-data"];for(const u in n)y.set(u,a(n[u]));s=y;break}}w===N.SQL&&(o["Content-Type"]=p.JSON,s=b);try{const n=new Function("return `"+`${r}${f}`.trim()+"`")();return h({url:n,method:R,data:s,params:d,headers:o})}catch(n){console.log(n),window.$message.error("URL地址格式有误！")}};export{B as c};

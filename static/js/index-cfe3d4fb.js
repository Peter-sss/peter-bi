import{d as J,a0 as Q,l as b,Z as n,a2 as h,a as r,o as a,E as c,w as t,b as o,u as y,c as v,q as I,G as A,n as u,t as H,F as w,b9 as X,x as tt,y as et,h as ot}from"./index-f1b62783.js";import{g as st}from"./plugin-a824adf1.js";import{i as B}from"./icon-14375a60.js";import{u as at}from"./useKeyboard.hook-25a8f9a0.js";import{u as nt}from"./useSync.hook-f803091a.js";import{u as rt,a as ct,H as d}from"./chartEditStore-486ae2f4.js";import{u as L,C as _}from"./chartLayoutStore-ce407c49.js";import"./index-22e48ee0.js";import"./SettingItem-d0566dd6.js";/* empty css                                                                      */import"./SettingItemBox-6b455d4c.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-3590d83e.js";import"./index.esm.min-98f3d51a.js";import"./fileTypeEnum-21359a08.js";import"./project.api-a6799795.js";const it=i=>(tt("data-v-6b5b960a"),i=i(),et(),i),lt={class:"save-btn"},pt=it(()=>u("span",null,"保存",-1)),dt=J({__name:"index",setup(i){const{LayersIcon:x,BarChartIcon:E,PrismIcon:D,HomeIcon:F,ArrowBackIcon:R,ArrowForwardIcon:K}=B.ionicons5,{SaveIcon:T}=B.carbon,{setItem:z}=L(),{dataSyncUpdate:$}=nt(),{getLayers:q,getCharts:N,getDetails:O}=Q(L()),k=rt(),g=ct(),P=b([{key:_.CHARTS,select:N,title:"图表组件",icon:n(E)},{key:_.LAYERS,select:q,title:"图层控制",icon:n(x)},{key:_.DETAILS,select:O,title:"详情设置",icon:n(D)}]),V=h(()=>g.getBackStack.length>1),W=h(()=>g.getForwardStack.length>0),G=b([{key:d.BACK_STACK,select:V,title:"后退",icon:n(R)},{key:d.FORWARD_STACK,select:W,title:"前进",icon:n(K)}]),M=s=>s.key===_.DETAILS?s.select?"":"primary":s.select?"primary":"",U=s=>{z(s.key,!s.select)},Y=s=>{switch(s.key){case d.BACK_STACK:k.setBack();break;case d.FORWARD_STACK:k.setForward();break}},Z=()=>{st({message:"确定已保存了数据（Ctrl / ⌘ + S），并返回到首页吗？",isMaskClosable:!0,onPositiveCallback:()=>{X(),at()}})};return(s,l)=>{const f=r("n-icon"),p=r("n-button"),m=r("n-tooltip"),C=r("n-divider"),S=r("n-space");return a(),c(S,{class:"header-left-btn",wrap:!1,size:25},{default:t(()=>[o(p,{size:"small",quaternary:"",onClick:l[0]||(l[0]=e=>Z())},{icon:t(()=>[o(f,{depth:3},{default:t(()=>[o(y(F))]),_:1})]),_:1}),o(S,{wrap:!1},{default:t(()=>[(a(!0),v(w,null,I(P,e=>(a(),c(m,{key:e.key,placement:"bottom",trigger:"hover"},{trigger:t(()=>[o(p,{size:"small",ghost:"",type:M(e),focusable:!1,onClick:j=>U(e)},{default:t(()=>[(a(),c(A(e.icon)))]),_:2},1032,["type","onClick"])]),default:t(()=>[u("span",null,H(e.title),1)]),_:2},1024))),128)),o(C,{vertical:""}),(a(!0),v(w,null,I(G,e=>(a(),c(m,{key:e.key,placement:"bottom",trigger:"hover"},{trigger:t(()=>[o(p,{size:"small",ghost:"",type:"primary",disabled:!e.select,onClick:j=>Y(e)},{default:t(()=>[(a(),c(A(e.icon)))]),_:2},1032,["disabled","onClick"])]),default:t(()=>[u("span",null,H(e.title),1)]),_:2},1024))),128)),o(C,{vertical:""}),o(m,{placement:"bottom",trigger:"hover"},{trigger:t(()=>[u("div",lt,[o(p,{size:"small",type:"primary",ghost:"",onClick:l[1]||(l[1]=e=>y($)())},{icon:t(()=>[o(f,null,{default:t(()=>[o(y(T))]),_:1})]),_:1})])]),default:t(()=>[pt]),_:1})]),_:1})]),_:1})}}});const wt=ot(dt,[["__scopeId","data-v-6b5b960a"]]);export{wt as default};
